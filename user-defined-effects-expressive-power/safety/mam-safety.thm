Specification "mam".

Import "mam-progress".
Import "mam-preservation".

Theorem safety : forall M A,
    {of/comp M (f empty A)} ->
        (exists N, {step M N} /\ {of/comp N (f empty A)}) \/
        (exists V, M = ret V /\ {of/value V A}).
intros. apply progress to H1. case H2.
    case H1. right. search.
    case H1.
    apply preservation to H1 H3. left. search.
